
local Library = {}

--// Services
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local mouse = Player and Player:GetMouse() or nil

--// Easing presets
local tweeninfo = TweenInfo.new
local tweeninfoFast = TweenInfo.new(0.18, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)
local tweeninfoSmooth = TweenInfo.new(0.28, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)

--// State
local focusing = false

--// Utility collections
local Utility = {}
local Objects = {}

--// Theme
local Theme = {
	Bg = Color3.fromRGB(30, 30, 32),
	Bg2 = Color3.fromRGB(38, 38, 41),
	Bg3 = Color3.fromRGB(24, 24, 26),
	TopBar = Color3.fromRGB(22, 22, 24),

	Nav = Color3.fromRGB(41, 41, 44),
	NavLine = Color3.fromRGB(76, 76, 80),

	Accent = Color3.fromRGB(95, 155, 255),
	Accent2 = Color3.fromRGB(72, 209, 134),

	Stroke = Color3.fromRGB(70, 70, 75),
	StrokeHover = Color3.fromRGB(135, 135, 140),

	Text = Color3.fromRGB(245, 245, 247),
	TextDim = Color3.fromRGB(202, 202, 205),

	Shadow = Color3.fromRGB(0, 0, 0),
	ShadowImage = "rbxassetid://6015897843",

	Good = Color3.fromRGB(115, 191, 92),
	Bad = Color3.fromRGB(214, 68, 68),

	WarnBg = Color3.fromRGB(45, 36, 6),
	WarnStroke = Color3.fromRGB(165, 137, 11),
	WarnIcon = Color3.fromRGB(214, 178, 14),

	InfoBg = Color3.fromRGB(4, 32, 44),
	InfoStroke = Color3.fromRGB(11, 136, 177),
	InfoIcon = Color3.fromRGB(12, 170, 218),

	NeutralStroke = Color3.fromRGB(81, 81, 81)
}

--// Drag helper
function Library:DraggingEnabled(frame, parent)
	parent = parent or frame

	local dragging = false
	local dragInput, mousePos, framePos

	frame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			mousePos = input.Position
			framePos = parent.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	frame.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)

	UIS.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			local delta = input.Position - mousePos
			parent.Position = UDim2.new(
				framePos.X.Scale,
				framePos.X.Offset + delta.X,
				framePos.Y.Scale,
				framePos.Y.Offset + delta.Y
			)
		end
	end)
end

--// Utility helpers
function Utility:TweenObject(obj, properties, duration, ...)
	TweenService:Create(obj, tweeninfo(duration, ...), properties):Play()
end

function Utility:ApplyHoverStroke(frame, stroke, hoverColor, baseColor)
	frame.MouseEnter:Connect(function()
		TweenService:Create(stroke, tweeninfoSmooth, { Color = hoverColor or Theme.StrokeHover }):Play()
	end)
	frame.MouseLeave:Connect(function()
		TweenService:Create(stroke, tweeninfoSmooth, { Color = baseColor or Theme.Stroke }):Play()
	end)
end

function Utility:ApplyHoverBg(frame, hoverColor, baseColor)
	frame.MouseEnter:Connect(function()
		if not focusing then
			TweenService:Create(frame, tweeninfoSmooth, { BackgroundColor3 = hoverColor }):Play()
		end
	end)
	frame.MouseLeave:Connect(function()
		if not focusing then
			TweenService:Create(frame, tweeninfoSmooth, { BackgroundColor3 = baseColor }):Play()
		end
	end)
end

-- Simple ripple creator (ImageLabel clone)
local function addRipple(btn)
	local Sample = Instance.new("ImageLabel")
	Sample.Name = "Sample"
	Sample.BackgroundTransparency = 1
	Sample.Image = "http://www.roblox.com/asset/?id=4560909609"
	Sample.ImageColor3 = Color3.fromRGB(0, 0, 0)
	Sample.ImageTransparency = 0.75
	Sample.Visible = false
	Sample.ZIndex = 10
	Sample.Parent = btn

	return function()
		if not mouse then return end
		local c = Sample:Clone()
		c.Visible = true
		c.Parent = btn
		local x, y = (mouse.X - c.AbsolutePosition.X), (mouse.Y - c.AbsolutePosition.Y)
		c.Position = UDim2.new(0, x, 0, y)
		local len, size = 0.35, nil
		if btn.AbsoluteSize.X >= btn.AbsoluteSize.Y then
			size = (btn.AbsoluteSize.X * 1.35)
		else
			size = (btn.AbsoluteSize.Y * 1.35)
		end
		c:TweenSizeAndPosition(
			UDim2.new(0, size, 0, size),
			UDim2.new(0.5, (-size / 2), 0.5, (-size / 2)),
			Enum.EasingDirection.Out, Enum.EasingStyle.Quad, len, true, nil
		)
		for _ = 1, 12 do
			c.ImageTransparency = c.ImageTransparency + 0.02
			task.wait(len / 14)
		end
		c:Destroy()
	end
end

-- Fixed tween helper
function Library:tween(object, goal, callback)
	local t = TweenService:Create(object, tweeninfoSmooth, goal)
	if callback then
		t.Completed:Connect(callback)
	end
	t:Play()
	return t
end

-- Randomized GUI name
local LibName = "UI_"
	.. tostring(math.random(1, 100))
	.. tostring(math.random(1, 50))
	.. tostring(math.random(1, 100))

function Library:ToggleUI()
	if game.CoreGui[LibName].Enabled then
		game.CoreGui[LibName].Enabled = false
	else
		game.CoreGui[LibName].Enabled = true
	end
end

function Library:DestroyUI()
	local cg = game:GetService("CoreGui")
	local g = cg:FindFirstChild(LibName)
	if g then
		g:Destroy()
	end
end

-- UIScale helper (responsive scaling based on viewport width)
local function attachResponsiveScale(parent, minScale, maxScale)
	local uiScale = Instance.new("UIScale")
	uiScale.Name = "ResponsiveScale"
	uiScale.Parent = parent

	local function updateScale()
		local cam = workspace.CurrentCamera
		if not cam then return end
		local vp = cam.ViewportSize
		-- Scale relative to 1366px width; clamp for readability
		local scale = math.clamp(vp.X / 1366, minScale or 0.85, maxScale or 1.2)
		uiScale.Scale = scale
	end

	-- Initial + signals
	task.defer(updateScale)
	RunService.Heartbeat:Connect(updateScale)
	if workspace.CurrentCamera then
		workspace.CurrentCamera:GetPropertyChangedSignal("ViewportSize"):Connect(updateScale)
	end

	return uiScale
end

function Library:Create(TitleText)
	TitleText = TitleText or "Untitled"

	local UILibrary = Instance.new("ScreenGui")
	local Main = Instance.new("Frame")
	local MainRound = Instance.new("UICorner")
	local TopBar = Instance.new("Frame")
	local TopBarRound = Instance.new("UICorner")
	local Extension = Instance.new("Frame")
	local Title = Instance.new("TextLabel")
	local TitlePadding = Instance.new("UIPadding")
	local Close = Instance.new("ImageButton")
	local CloseStroke = Instance.new("UIStroke")
	local Line = Instance.new("Frame")
	local DropShadowHolder = Instance.new("Frame")
	local DropShadow = Instance.new("ImageLabel")
	local Navigation = Instance.new("Frame")
	local NavCorner = Instance.new("UICorner")
	local Hide = Instance.new("Frame")
	local Hide2 = Instance.new("Frame")
	local ButtonHolder = Instance.new("Frame")
	local ButtonPadding = Instance.new("UIPadding")
	local ButtonList = Instance.new("UIListLayout")
	local Line_2 = Instance.new("Frame")
	local ContentContainer = Instance.new("Frame")
	local Fade = Instance.new("Frame")
	local UIGradientFade = Instance.new("UIGradient")
	local TabsFolder = Instance.new("Folder")

	Library:DraggingEnabled(TopBar, Main)

	-- ScreenGui
	UILibrary.Name = LibName
	UILibrary.Parent = game:GetService("CoreGui")
	UILibrary.IgnoreGuiInset = true
	UILibrary.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	UILibrary.ResetOnSpawn = false

	-- Main window
	Main.Name = "Main"
	Main.Parent = UILibrary
	Main.AnchorPoint = Vector2.new(0.5, 0.5)
	Main.BackgroundColor3 = Theme.Bg2
	Main.Position = UDim2.new(0.5, 0, 0.5, 0)
	Main.Size = UDim2.new(0, 520, 0, 340)

	MainRound.CornerRadius = UDim.new(0, 10)
	MainRound.Parent = Main

	-- Subtle drop shadow
	DropShadowHolder.Name = "DropShadowHolder"
	DropShadowHolder.Parent = Main
	DropShadowHolder.BackgroundTransparency = 1
	DropShadowHolder.BorderSizePixel = 0
	DropShadowHolder.Size = UDim2.new(1, 0, 1, 0)
	DropShadowHolder.ZIndex = 0

	DropShadow.Name = "DropShadow"
	DropShadow.Parent = DropShadowHolder
	DropShadow.AnchorPoint = Vector2.new(0.5, 0.5)
	DropShadow.BackgroundTransparency = 1
	DropShadow.BorderSizePixel = 0
	DropShadow.Position = UDim2.new(0.5, 0, 0.5, 0)
	DropShadow.Size = UDim2.new(1, 44, 1, 44)
	DropShadow.ZIndex = 0
	DropShadow.Image = Theme.ShadowImage
	DropShadow.ImageColor3 = Theme.Shadow
	DropShadow.ImageTransparency = 0.47
	DropShadow.ScaleType = Enum.ScaleType.Slice
	DropShadow.SliceCenter = Rect.new(49, 49, 450, 450)

	-- TopBar
	TopBar.Name = "TopBar"
	TopBar.Parent = Main
	TopBar.BackgroundColor3 = Theme.TopBar
	TopBar.Size = UDim2.new(1, 0, 0, 36)

	TopBarRound.CornerRadius = UDim.new(0, 10)
	TopBarRound.Parent = TopBar

	Extension.Name = "Extension"
	Extension.Parent = TopBar
	Extension.AnchorPoint = Vector2.new(0, 1)
	Extension.BackgroundColor3 = Theme.TopBar
	Extension.BorderSizePixel = 0
	Extension.Position = UDim2.new(0, 0, 1, 0)
	Extension.Size = UDim2.new(1, 0, 0.5, 0)

	Title.Name = "Title"
	Title.Parent = TopBar
	Title.BackgroundTransparency = 1
	Title.Size = UDim2.new(1, -60, 1, 0)
	Title.Font = Enum.Font.GothamSemibold
	Title.Text = TitleText
	Title.TextColor3 = Theme.Text
	Title.TextSize = 16
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.TextWrapped = false

	TitlePadding.Parent = Title
	TitlePadding.PaddingLeft = UDim.new(0, 10)
	TitlePadding.PaddingTop = UDim.new(0, 1)

	Close.Name = "Close"
	Close.Parent = TopBar
	Close.AnchorPoint = Vector2.new(1, 0.5)
	Close.BackgroundTransparency = 1
	Close.Position = UDim2.new(1, -10, 0.5, 0)
	Close.Size = UDim2.new(0, 18, 0, 18)
	Close.Image = "rbxassetid://10884453403"

	CloseStroke.Parent = Close
	CloseStroke.Thickness = 0.8
	CloseStroke.Color = Theme.Stroke
	CloseStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Contextual
	Utility:ApplyHoverStroke(Close, CloseStroke, Theme.StrokeHover, Theme.Stroke)

	Line.Name = "Line"
	Line.Parent = TopBar
	Line.AnchorPoint = Vector2.new(0, 1)
	Line.BackgroundColor3 = Theme.NavLine
	Line.BorderSizePixel = 0
	Line.Position = UDim2.new(0, 0, 1, 0)
	Line.Size = UDim2.new(1, 0, 0, 1)

	Close.MouseEnter:Connect(function()
		TweenService:Create(Close, tweeninfoFast, { ImageTransparency = 0.15 }):Play()
	end)
	Close.MouseLeave:Connect(function()
		TweenService:Create(Close, tweeninfoFast, { ImageTransparency = 0 }):Play()
	end)
	Close.MouseButton1Click:Connect(function()
		TweenService:Create(Close, tweeninfoFast, { ImageTransparency = 1 }):Play()
		task.wait(0.02)
		TweenService:Create(Main, tweeninfoFast, {
			Size = UDim2.new(0, 0, 0, 0),
			Position = UDim2.new(0, Main.AbsolutePosition.X + (Main.AbsoluteSize.X / 2), 0, Main.AbsolutePosition.Y + (Main.AbsoluteSize.Y / 2))
		}):Play()
		ContentContainer.Visible = false
		Navigation.Visible = false
		DropShadowHolder.Visible = false
		TopBar.Visible = false
		task.wait(0.4)
		Library:DestroyUI()
	end)

	-- Navigation
	Navigation.Name = "Navigation"
	Navigation.Parent = Main
	Navigation.BackgroundColor3 = Theme.Nav
	Navigation.BorderSizePixel = 0
	Navigation.Position = UDim2.new(0, 0, 0, 36)
	Navigation.Size = UDim2.new(0, 136, 1, -42)

	NavCorner.CornerRadius = UDim.new(0, 10)
	NavCorner.Parent = Navigation

	Hide.Name = "Hide"
	Hide.Parent = Navigation
	Hide.BackgroundColor3 = Theme.Nav
	Hide.BorderSizePixel = 0
	Hide.Size = UDim2.new(1, 0, 0, 12)

	Hide2.Name = "Hide2"
	Hide2.Parent = Navigation
	Hide2.AnchorPoint = Vector2.new(1, 0)
	Hide2.BackgroundColor3 = Theme.Nav
	Hide2.BorderSizePixel = 0
	Hide2.Position = UDim2.new(1, 0, 0, 0)
	Hide2.Size = UDim2.new(0, 12, 1, 0)

	ButtonHolder.Name = "ButtonHolder"
	ButtonHolder.Parent = Navigation
	ButtonHolder.BackgroundTransparency = 1
	ButtonHolder.Size = UDim2.new(1, 0, 1, 0)

	ButtonPadding.Parent = ButtonHolder
	ButtonPadding.PaddingBottom = UDim.new(0, 8)
	ButtonPadding.PaddingTop = UDim.new(0, 8)
	ButtonPadding.PaddingLeft = UDim.new(0, 6)
	ButtonPadding.PaddingRight = UDim.new(0, 6)

	ButtonList.Parent = ButtonHolder
	ButtonList.SortOrder = Enum.SortOrder.LayoutOrder
	ButtonList.Padding = UDim.new(0, 4)

	Line_2.Name = "Line"
	Line_2.Parent = Navigation
	Line_2.BackgroundColor3 = Theme.NavLine
	Line_2.BorderSizePixel = 0
	Line_2.Position = UDim2.new(1, 0, 0, 0)
	Line_2.Size = UDim2.new(0, 1, 1, 0)

	-- Content
	ContentContainer.Name = "ContentContainer"
	ContentContainer.Parent = Main
	ContentContainer.AnchorPoint = Vector2.new(1, 0)
	ContentContainer.BackgroundColor3 = Theme.Bg
	ContentContainer.BackgroundTransparency = 1
	ContentContainer.Position = UDim2.new(1, -8, 0, 42)
	ContentContainer.Size = UDim2.new(1, -156, 1, -50)

	Fade.Name = "Fade"
	Fade.Parent = ContentContainer
	Fade.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Fade.BorderSizePixel = 0
	Fade.Size = UDim2.new(1, 0, 0, 30)
	Fade.Visible = false
	Fade.ZIndex = 10
	UIGradientFade.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0.00, Theme.Bg2),
		ColorSequenceKeypoint.new(1.00, Theme.Bg2)
	}
	UIGradientFade.Rotation = 90
	UIGradientFade.Transparency = NumberSequence.new{
		NumberSequenceKeypoint.new(0.00, 0.00),
		NumberSequenceKeypoint.new(0.34, 0.24),
		NumberSequenceKeypoint.new(1.00, 1.00)
	}
	UIGradientFade.Parent = Fade

	TabsFolder.Name = "TabsFolder"
	TabsFolder.Parent = ContentContainer

	-- Smooth open animation + responsive scale
	attachResponsiveScale(Main, 0.85, 1.2)
	Main.Size = UDim2.new(0, 520, 0, 340)
	Main.ClipsDescendants = true
	Main.BackgroundTransparency = 1
	TopBar.BackgroundTransparency = 1
	Navigation.Position = UDim2.new(-0.05, 0, 0, 36)
	ContentContainer.Position = UDim2.new(1.05, -8, 0, 42)

	Library:tween(Main, { BackgroundTransparency = 0 })
	Library:tween(TopBar, { BackgroundTransparency = 0 })
	Library:tween(Navigation, { Position = UDim2.new(0, 0, 0, 36) })
	Library:tween(ContentContainer, { Position = UDim2.new(1, -8, 0, 42) })

	local Tabs = {}
	local first = true
	local currentTabFrame: ScrollingFrame? = nil

	function Tabs:Tab(TabText, TabIcon)
		TabText = TabText or "Untitled"
		TabIcon = TabIcon or ""

		local Active = Instance.new("TextButton")
		local ActivePadding = Instance.new("UIPadding")
		local Icon = Instance.new("ImageLabel")
		local Highlight = Instance.new("Frame")
		local HighlightRound = Instance.new("UICorner")

		local NewTab = Instance.new("ScrollingFrame")
		local UIPadding_5 = Instance.new("UIPadding")
		local UIListLayout_2 = Instance.new("UIListLayout")

		-- Nav button
		Active.Name = TabText .. "_TabButton"
		Active.Parent = ButtonHolder
		Active.BackgroundTransparency = 0.9
		Active.BackgroundColor3 = Theme.Bg
		Active.BorderSizePixel = 0
		Active.AutoButtonColor = false
		Active.Size = UDim2.new(1, 0, 0, 30)
		Active.Font = Enum.Font.Ubuntu
		Active.Text = TabText
		Active.TextColor3 = Theme.TextDim
		Active.TextSize = 14
		Active.TextXAlignment = Enum.TextXAlignment.Left

		ActivePadding.Parent = Active
		ActivePadding.PaddingLeft = UDim.new(0, 28)
		ActivePadding.PaddingRight = UDim.new(0, 6)

		Icon.Name = "Icon"
		Icon.Parent = Active
		Icon.AnchorPoint = Vector2.new(0, 0.5)
		Icon.BackgroundTransparency = 1
		Icon.Position = UDim2.new(0, 6, 0.5, 0)
		Icon.Size = UDim2.new(0, 18, 0, 18)
		Icon.Image = TabIcon
		Icon.ImageColor3 = Theme.TextDim

		Highlight.Name = "Highlight"
		Highlight.Parent = Active
		Highlight.AnchorPoint = Vector2.new(1, 0.5)
		Highlight.BackgroundColor3 = Theme.Accent
		Highlight.Position = UDim2.new(0, 0, 0.5, 0)
		Highlight.Size = UDim2.new(0, 3, 0.65, 0)
		Highlight.Visible = false
		HighlightRound.CornerRadius = UDim.new(0, 3)
		HighlightRound.Parent = Highlight

		-- Tab content
		NewTab.Name = "NewTab"
		NewTab.Parent = TabsFolder
		NewTab.BackgroundTransparency = 1
		NewTab.Selectable = false
		NewTab.Size = UDim2.new(1, 0, 1, 0)
		NewTab.AutomaticCanvasSize = Enum.AutomaticSize.Y
		NewTab.CanvasSize = UDim2.new(0, 0, 0, 0)
		NewTab.ScrollBarThickness = 6
		NewTab.ScrollBarImageColor3 = Theme.Stroke
		NewTab.ScrollBarImageTransparency = 0.25
		NewTab.Visible = false

		UIPadding_5.Parent = NewTab
		UIPadding_5.PaddingBottom = UDim.new(0, 8)
		UIPadding_5.PaddingLeft = UDim.new(0, 8)
		UIPadding_5.PaddingRight = UDim.new(0, 8)
		UIPadding_5.PaddingTop = UDim.new(0, 8)

		UIListLayout_2.Parent = NewTab
		UIListLayout_2.SortOrder = Enum.SortOrder.LayoutOrder
		UIListLayout_2.Padding = UDim.new(0, 8)

		if first then
			first = false
			NewTab.Visible = true
			currentTabFrame = NewTab
			Active.BackgroundTransparency = 0.8
			Active.TextColor3 = Theme.Text
			Icon.ImageColor3 = Theme.Text
			Highlight.Visible = true
		else
			NewTab.Visible = false
			Active.BackgroundTransparency = 1
			Active.TextColor3 = Theme.TextDim
			Icon.ImageColor3 = Theme.TextDim
			Highlight.Visible = false
		end

		Active.MouseButton1Click:Connect(function()
			if currentTabFrame == NewTab then return end

			-- fade overlay
			Fade.Visible = true
			Fade.BackgroundTransparency = 1
			Library:tween(Fade, { BackgroundTransparency = 0.1 })
			task.wait(0.05)

			for _, v in next, TabsFolder:GetChildren() do
				if v:IsA("ScrollingFrame") then
					v.Visible = false
				end
			end
			NewTab.Visible = true
			currentTabFrame = NewTab

			for _, v in next, ButtonHolder:GetChildren() do
				if v:IsA("TextButton") then
					TweenService:Create(v, tweeninfoSmooth, {
						BackgroundTransparency = 1,
						TextColor3 = Theme.TextDim
					}):Play()
					local ic = v:FindFirstChild("Icon")
					local hi = v:FindFirstChild("Highlight")
					if ic and ic:IsA("ImageLabel") then
						TweenService:Create(ic, tweeninfoSmooth, { ImageColor3 = Theme.TextDim }):Play()
					end
					if hi and hi:IsA("Frame") then
						hi.Visible = false
					end
				end
			end

			TweenService:Create(Icon, tweeninfoSmooth, { ImageColor3 = Theme.Text }):Play()
			TweenService:Create(Active, tweeninfoSmooth, {
				BackgroundTransparency = 0.8,
				TextColor3 = Theme.Text
			}):Play()
			Highlight.Visible = true

			Library:tween(Fade, { BackgroundTransparency = 1 }, function()
				Fade.Visible = false
			end)
		end)

		-- Elements for this tab
		local Elements = {}

		function Elements:Section(title)
			title = title or "Section"

			local Section = Instance.new("Frame")
			local Title_idk = Instance.new("TextLabel")
			local LineLeft = Instance.new("Frame")
			local LineRight = Instance.new("Frame")
			local UIPadding_idkkk = Instance.new("UIPadding")

			Section.Name = "Section"
			Section.Parent = NewTab
			Section.BackgroundColor3 = Theme.Bg3
			Section.BackgroundTransparency = 1
			Section.Size = UDim2.new(1, 0, 0, 32)

			Title_idk.Name = "Title"
			Title_idk.Parent = Section
			Title_idk.BackgroundTransparency = 1
			Title_idk.Size = UDim2.new(0, 160, 1, 0)
			Title_idk.Font = Enum.Font.GothamSemibold
			Title_idk.Text = title
			Title_idk.TextColor3 = Theme.Text
			Title_idk.TextSize = 14
			Title_idk.TextXAlignment = Enum.TextXAlignment.Center

			LineLeft.Name = "LineLeft"
			LineLeft.Parent = Section
			LineLeft.AnchorPoint = Vector2.new(1, 0.5)
			LineLeft.BackgroundColor3 = Theme.NavLine
			LineLeft.BorderSizePixel = 0
			LineLeft.Position = UDim2.new(0.5, -90, 0.5, 0)
			LineLeft.Size = UDim2.new(0.5, -100, 0, 1)

			LineRight.Name = "LineRight"
			LineRight.Parent = Section
			LineRight.BackgroundColor3 = Theme.NavLine
			LineRight.BorderSizePixel = 0
			LineRight.Position = UDim2.new(0.5, 90, 0.5, 0)
			LineRight.Size = UDim2.new(0.5, -100, 0, 1)

			UIPadding_idkkk.Parent = Section
			UIPadding_idkkk.PaddingBottom = UDim.new(0, 6)
			UIPadding_idkkk.PaddingLeft = UDim.new(0, 6)
			UIPadding_idkkk.PaddingRight = UDim.new(0, 6)
			UIPadding_idkkk.PaddingTop = UDim.new(0, 6)
		end

		function Elements:Button(ButtonName, callback)
			ButtonName = ButtonName or "Button"
			callback = callback or function() end

			local Button = Instance.new("TextButton")
			local UICorner_4 = Instance.new("UICorner")
			local Title_2 = Instance.new("TextLabel")
			local UIPadding_5b = Instance.new("UIPadding")
			local Icon_2 = Instance.new("ImageLabel")
			local UIStroke = Instance.new("UIStroke")

			Button.Name = "Button"
			Button.Parent = NewTab
			Button.BackgroundColor3 = Theme.Bg3
			Button.AutoButtonColor = false
			Button.Text = ""
			Button.ClipsDescendants = true
			Button.Size = UDim2.new(1, 0, 0, 36)
			Button.AutomaticSize = Enum.AutomaticSize.Y
			Objects[Button] = "BackgroundColor3"

			UICorner_4.CornerRadius = UDim.new(0, 6)
			UICorner_4.Parent = Button

			Title_2.Name = "Title"
			Title_2.Parent = Button
			Title_2.BackgroundTransparency = 1
			Title_2.Size = UDim2.new(1, -26, 1, 0)
			Title_2.Font = Enum.Font.Ubuntu
			Title_2.Text = ButtonName
			Title_2.TextColor3 = Theme.Text
			Title_2.TextSize = 14
			Title_2.TextXAlignment = Enum.TextXAlignment.Left
			Title_2.TextWrapped = true
			Title_2.AutomaticSize = Enum.AutomaticSize.Y

			UIPadding_5b.Parent = Button
			UIPadding_5b.PaddingBottom = UDim.new(0, 8)
			UIPadding_5b.PaddingLeft = UDim.new(0, 8)
			UIPadding_5b.PaddingRight = UDim.new(0, 8)
			UIPadding_5b.PaddingTop = UDim.new(0, 8)

			Icon_2.Name = "Icon"
			Icon_2.Parent = Button
			Icon_2.AnchorPoint = Vector2.new(1, 0)
			Icon_2.BackgroundTransparency = 1
			Icon_2.Position = UDim2.new(1, -4, 0, 4)
			Icon_2.Size = UDim2.new(0, 20, 0, 20)
			Icon_2.Image = "rbxassetid://10888474558"
			Icon_2.ImageColor3 = Theme.TextDim

			UIStroke.Name = "UIStroke"
			UIStroke.Parent = Button
			UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke.Color = Theme.Stroke
			UIStroke.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke.Thickness = 1

			local ripple = addRipple(Button)

			Button.MouseButton1Click:Connect(function()
				if not focusing then
					callback()
					ripple()
				end
			end)

			Utility:ApplyHoverBg(Button, Theme.Bg2, Theme.Bg3)
			Utility:ApplyHoverStroke(Button, UIStroke, Theme.StrokeHover, Theme.Stroke)

			return Button
		end

		function Elements:TextBox(TextBoxTitle, callback)
			TextBoxTitle = TextBoxTitle or "TextBox"
			callback = callback or function() end

			local TextBox = Instance.new("Frame")
			local UICorner_34 = Instance.new("UICorner")
			local Title_12 = Instance.new("TextLabel")
			local UIPadding_20 = Instance.new("UIPadding")
			local UIStroke_9 = Instance.new("UIStroke")
			local Input = Instance.new("TextBox")
			local UICorner_35 = Instance.new("UICorner")
			local UIStroke_10 = Instance.new("UIStroke")

			TextBox.Name = "TextBox"
			TextBox.Parent = NewTab
			TextBox.BackgroundColor3 = Theme.Bg3
			TextBox.ClipsDescendants = true
			TextBox.Size = UDim2.new(1, 0, 0, 40)
			TextBox.AutomaticSize = Enum.AutomaticSize.Y

			UICorner_34.CornerRadius = UDim.new(0, 6)
			UICorner_34.Parent = TextBox

			Title_12.Name = "Title"
			Title_12.Parent = TextBox
			Title_12.BackgroundTransparency = 1
			Title_12.Size = UDim2.new(1, -100, 1, 0)
			Title_12.Font = Enum.Font.Ubuntu
			Title_12.Text = TextBoxTitle
			Title_12.TextColor3 = Theme.Text
			Title_12.TextSize = 14
			Title_12.TextXAlignment = Enum.TextXAlignment.Left
			Title_12.TextWrapped = true
			Title_12.AutomaticSize = Enum.AutomaticSize.Y

			UIPadding_20.Parent = TextBox
			UIPadding_20.PaddingBottom = UDim.new(0, 8)
			UIPadding_20.PaddingLeft = UDim.new(0, 8)
			UIPadding_20.PaddingRight = UDim.new(0, 8)
			UIPadding_20.PaddingTop = UDim.new(0, 8)

			UIStroke_9.Name = "UIStroke"
			UIStroke_9.Parent = TextBox
			UIStroke_9.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_9.Color = Theme.Stroke
			UIStroke_9.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke_9.Thickness = 1

			Input.Name = "Input"
			Input.Parent = TextBox
			Input.BackgroundColor3 = Theme.Bg2
			Input.BorderSizePixel = 0
			Input.ClipsDescendants = true
			Input.AnchorPoint = Vector2.new(1, 0.5)
			Input.Position = UDim2.new(1, -8, 0.5, 0)
			Input.Size = UDim2.new(0, 120, 0, 24)
			Input.ClearTextOnFocus = false
			Input.Font = Enum.Font.Ubuntu
			Input.PlaceholderText = "Type here"
			Input.Text = ""
			Input.TextColor3 = Theme.Text
			Input.TextSize = 13

			UICorner_35.Parent = Input

			UIStroke_10.Name = "UIStroke"
			UIStroke_10.Parent = Input
			UIStroke_10.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_10.Color = Theme.Stroke
			UIStroke_10.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke_10.Thickness = 1

			Input.Focused:Connect(function()
				TweenService:Create(Input, tweeninfoSmooth, { BackgroundColor3 = Theme.Bg, TextColor3 = Theme.Text }):Play()
				TweenService:Create(UIStroke_10, tweeninfoSmooth, { Color = Theme.Accent }):Play()
			end)
			Input.FocusLost:Connect(function(enterPressed)
				TweenService:Create(Input, tweeninfoSmooth, { BackgroundColor3 = Theme.Bg2, TextColor3 = Theme.Text }):Play()
				TweenService:Create(UIStroke_10, tweeninfoSmooth, { Color = Theme.Stroke }):Play()
				if not enterPressed then return end
				callback(Input.Text)
			end)

			Utility:ApplyHoverBg(TextBox, Theme.Bg2, Theme.Bg3)
			Utility:ApplyHoverStroke(TextBox, UIStroke_9, Theme.StrokeHover, Theme.Stroke)
		end

		-- Toggle with switch
		function Elements:Toggle(ToggleName, default, callback)
			ToggleName = ToggleName or "Toggle"
			callback = callback or function() end
			default = default == nil and false or default

			local Toggle = Instance.new("TextButton")
			local UICorner_8 = Instance.new("UICorner")
			local Title_6 = Instance.new("TextLabel")
			local UIPadding_13 = Instance.new("UIPadding")
			local UIStroke_2 = Instance.new("UIStroke")
			local Switch = Instance.new("Frame")
			local SwitchCorner = Instance.new("UICorner")
			local Knob = Instance.new("Frame")
			local KnobCorner = Instance.new("UICorner")
			local SwitchStroke = Instance.new("UIStroke")

			local ToggleObj = {}
			local state = false

			Toggle.Name = "Toggle"
			Toggle.Parent = NewTab
			Toggle.BackgroundColor3 = Theme.Bg3
			Toggle.ClipsDescendants = true
			Toggle.Size = UDim2.new(1, 0, 0, 40)
			Toggle.AutoButtonColor = false
			Toggle.Text = ""
			Toggle.AutomaticSize = Enum.AutomaticSize.Y

			UICorner_8.CornerRadius = UDim.new(0, 6)
			UICorner_8.Parent = Toggle

			Title_6.Name = "Title"
			Title_6.Parent = Toggle
			Title_6.BackgroundTransparency = 1
			Title_6.Size = UDim2.new(1, -60, 1, 0)
			Title_6.Font = Enum.Font.Ubuntu
			Title_6.Text = ToggleName
			Title_6.TextColor3 = Theme.Text
			Title_6.TextSize = 14
			Title_6.TextXAlignment = Enum.TextXAlignment.Left
			Title_6.TextWrapped = true
			Title_6.AutomaticSize = Enum.AutomaticSize.Y

			UIPadding_13.Parent = Toggle
			UIPadding_13.PaddingBottom = UDim.new(0, 8)
			UIPadding_13.PaddingLeft = UDim.new(0, 8)
			UIPadding_13.PaddingRight = UDim.new(0, 8)
			UIPadding_13.PaddingTop = UDim.new(0, 8)

			UIStroke_2.Name = "UIStroke"
			UIStroke_2.Parent = Toggle
			UIStroke_2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_2.Color = Theme.Stroke
			UIStroke_2.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke_2.Thickness = 1

			Switch.Name = "Switch"
			Switch.Parent = Toggle
			Switch.AnchorPoint = Vector2.new(1, 0.5)
			Switch.BackgroundColor3 = Color3.fromRGB(63, 63, 63)
			Switch.Position = UDim2.new(1, -8, 0.5, 0)
			Switch.Size = UDim2.new(0, 36, 0, 18)
			SwitchCorner.CornerRadius = UDim.new(1, 0)
			SwitchCorner.Parent = Switch

			SwitchStroke.Parent = Switch
			SwitchStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			SwitchStroke.Color = Theme.Stroke
			SwitchStroke.Thickness = 1

			Knob.Name = "Knob"
			Knob.Parent = Switch
			Knob.BackgroundColor3 = Color3.fromRGB(240, 240, 240)
			Knob.Position = UDim2.new(0, 2, 0.5, -7)
			Knob.Size = UDim2.new(0, 14, 0, 14)
			KnobCorner.CornerRadius = UDim.new(1, 0)
			KnobCorner.Parent = Knob

			local function applyState(animated)
				local goalSwitchColor = state and Theme.Good or Color3.fromRGB(63, 63, 63)
				local goalStrokeColor = state and Theme.Accent2 or Theme.Stroke
				local goalKnobPos = state and UDim2.new(1, -16, 0.5, -7) or UDim2.new(0, 2, 0.5, -7)

				if animated then
					TweenService:Create(Switch, tweeninfoSmooth, { BackgroundColor3 = goalSwitchColor }):Play()
					TweenService:Create(SwitchStroke, tweeninfoSmooth, { Color = goalStrokeColor }):Play()
					TweenService:Create(Knob, tweeninfoSmooth, { Position = goalKnobPos }):Play()
				else
					Switch.BackgroundColor3 = goalSwitchColor
					SwitchStroke.Color = goalStrokeColor
					Knob.Position = goalKnobPos
				end
			end

			function ToggleObj:Set(v, suppressCallback)
				state = not not v
				applyState(false)
				if not suppressCallback then
					pcall(callback, state)
				end
			end

			function ToggleObj:Get()
				return state
			end

			function ToggleObj:OnChanged(fn)
				return Toggle.MouseButton1Click:Connect(function()
					fn(state)
				end)
			end

			Toggle.MouseButton1Click:Connect(function()
				if focusing then return end
				state = not state
				applyState(true)
				pcall(callback, state)
			end)

			Utility:ApplyHoverBg(Toggle, Theme.Bg2, Theme.Bg3)
			Utility:ApplyHoverStroke(Toggle, UIStroke_2, Theme.StrokeHover, Theme.Stroke)

			ToggleObj:Set(default, true)
			return ToggleObj
		end

		function Elements:Slider(SliderTitle, minvalue, maxvalue, callback)
			SliderTitle = SliderTitle or "Slider"
			minvalue = tonumber(minvalue) or 0
			maxvalue = tonumber(maxvalue) or 100
			callback = callback or function() end

			local SliderObj = {}
			local Value = minvalue
			local moveConnection, releaseConnection

			local Slider = Instance.new("Frame")
			local UICorner_12 = Instance.new("UICorner")
			local UIStroke_4 = Instance.new("UIStroke")
			local Title_8 = Instance.new("TextLabel")
			local UIPadding_15 = Instance.new("UIPadding")
			local Valuee = Instance.new("TextLabel")
			local SliderButton = Instance.new("TextButton")
			local UIStroke_5 = Instance.new("UIStroke")
			local SliderInner = Instance.new("Frame")
			local UICorner_13 = Instance.new("UICorner")
			local UICorner_14 = Instance.new("UICorner")

			Slider.Name = "Slider"
			Slider.Parent = NewTab
			Slider.BackgroundColor3 = Theme.Bg3
			Slider.Size = UDim2.new(1, 0, 0, 46)

			UICorner_12.CornerRadius = UDim.new(0, 6)
			UICorner_12.Parent = Slider

			UIStroke_4.Name = "UIStroke"
			UIStroke_4.Parent = Slider
			UIStroke_4.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_4.Color = Theme.Stroke
			UIStroke_4.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke_4.Thickness = 1

			Title_8.Name = "Title"
			Title_8.Parent = Slider
			Title_8.BackgroundTransparency = 1
			Title_8.Size = UDim2.new(1, -50, 1, -16)
			Title_8.Font = Enum.Font.Ubuntu
			Title_8.Text = SliderTitle
			Title_8.TextColor3 = Theme.Text
			Title_8.TextSize = 14
			Title_8.TextXAlignment = Enum.TextXAlignment.Left
			Title_8.TextWrapped = true

			UIPadding_15.Parent = Slider
			UIPadding_15.PaddingBottom = UDim.new(0, 8)
			UIPadding_15.PaddingLeft = UDim.new(0, 8)
			UIPadding_15.PaddingRight = UDim.new(0, 8)
			UIPadding_15.PaddingTop = UDim.new(0, 8)

			Valuee.Name = "Value"
			Valuee.Parent = Slider
			Valuee.AnchorPoint = Vector2.new(1, 0)
			Valuee.BackgroundTransparency = 1
			Valuee.Position = UDim2.new(1, 0, 0, 0)
			Valuee.Size = UDim2.new(0, 42, 1, -16)
			Valuee.Font = Enum.Font.Ubuntu
			Valuee.Text = tostring(minvalue)
			Valuee.TextColor3 = Theme.Text
			Valuee.TextSize = 13
			Valuee.TextXAlignment = Enum.TextXAlignment.Right

			SliderButton.Name = "SliderButton"
			SliderButton.Parent = Slider
			SliderButton.BackgroundTransparency = 1
			SliderButton.Position = UDim2.new(0, 0, 1, -10)
			SliderButton.Size = UDim2.new(1, -12, 0, 4)
			SliderButton.Text = ""

			UIStroke_5.Name = "UIStroke"
			UIStroke_5.Parent = SliderButton
			UIStroke_5.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_5.Color = Theme.Stroke
			UIStroke_5.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke_5.Thickness = 1

			SliderInner.Name = "SliderInner"
			SliderInner.Parent = SliderButton
			SliderInner.BackgroundColor3 = Theme.Accent
			SliderInner.Size = UDim2.new(0, 0, 1, 0)

			UICorner_13.CornerRadius = UDim.new(0, 4)
			UICorner_13.Parent = SliderInner

			UICorner_14.CornerRadius = UDim.new(0, 4)
			UICorner_14.Parent = SliderButton

			local function setFromX(x)
				local width = SliderButton.AbsoluteSize.X
				local clamped = math.clamp(x - SliderButton.AbsolutePosition.X, 0, width)
				local ratio = width > 0 and (clamped / width) or 0
				Value = math.floor(minvalue + (maxvalue - minvalue) * ratio + 0.5)
				SliderInner.Size = UDim2.new(0, clamped, 1, 0)
				Valuee.Text = tostring(Value)
				pcall(callback, Value)
			end

			SliderButton.MouseButton1Down:Connect(function()
				if focusing then return end
				if mouse then
					setFromX(mouse.X)
					moveConnection = mouse.Move:Connect(function()
						setFromX(mouse.X)
					end)
					releaseConnection = UIS.InputEnded:Connect(function(inp)
						if inp.UserInputType == Enum.UserInputType.MouseButton1 or inp.UserInputType == Enum.UserInputType.Touch then
							if moveConnection then moveConnection:Disconnect() end
							if releaseConnection then releaseConnection:Disconnect() end
						end
					end)
				end
			end)

			function SliderObj:Set(v, suppressCallback)
				v = tonumber(v) or minvalue
				v = math.clamp(v, minvalue, maxvalue)
				local width = SliderButton.AbsoluteSize.X
				local ratio = (v - minvalue) / (maxvalue - minvalue)
				local px = math.floor(width * ratio + 0.5)
				SliderInner.Size = UDim2.new(0, px, 1, 0)
				Value = v
				Valuee.Text = tostring(v)
				if not suppressCallback then
					pcall(callback, v)
				end
			end

			function SliderObj:Get()
				return Value
			end

			return SliderObj
		end

		function Elements:Keybind(KeybindTitle, defaultKey, callback)
			KeybindTitle = KeybindTitle or "Keybind"
			callback = callback or function() end

			local function normalizeKey(k)
				if typeof(k) == "EnumItem" and k.EnumType == Enum.KeyCode then
					return k.Name
				elseif typeof(k) == "string" then
					return k
				else
					return "Unknown"
				end
			end

			local oldKey = normalizeKey(defaultKey or Enum.KeyCode.RightShift)

			local Keybind = Instance.new("TextButton")
			local UICorner_36 = Instance.new("UICorner")
			local Title_14 = Instance.new("TextLabel")
			local UIPadding_24 = Instance.new("UIPadding")
			local Box = Instance.new("Frame")
			local UICorner_37 = Instance.new("UICorner")
			local KeybindC = Instance.new("TextLabel")
			local UIPadding_25 = Instance.new("UIPadding")
			local UIStrokeBase = Instance.new("UIStroke")
			local UIStrokeBox = Instance.new("UIStroke")

			local ripple = addRipple(Keybind)

			Keybind.Name = "Keybind"
			Keybind.Parent = NewTab
			Keybind.BackgroundColor3 = Theme.Bg3
			Keybind.ClipsDescendants = true
			Keybind.Size = UDim2.new(1, 0, 0, 40)
			Keybind.AutoButtonColor = false
			Keybind.Text = ""

			UICorner_36.CornerRadius = UDim.new(0, 6)
			UICorner_36.Parent = Keybind

			Title_14.Name = "Title"
			Title_14.Parent = Keybind
			Title_14.BackgroundTransparency = 1
			Title_14.Size = UDim2.new(1, -60, 1, 0)
			Title_14.Font = Enum.Font.Ubuntu
			Title_14.Text = KeybindTitle
			Title_14.TextColor3 = Theme.Text
			Title_14.TextSize = 14
			Title_14.TextXAlignment = Enum.TextXAlignment.Left
			Title_14.TextWrapped = true

			UIPadding_24.Parent = Keybind
			UIPadding_24.PaddingBottom = UDim.new(0, 8)
			UIPadding_24.PaddingLeft = UDim.new(0, 8)
			UIPadding_24.PaddingRight = UDim.new(0, 8)
			UIPadding_24.PaddingTop = UDim.new(0, 8)

			UIStrokeBase.Name = "UIStroke"
			UIStrokeBase.Parent = Keybind
			UIStrokeBase.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStrokeBase.Color = Theme.Stroke
			UIStrokeBase.Thickness = 1

			Box.Name = "Box"
			Box.Parent = Keybind
			Box.BackgroundColor3 = Theme.Bg2
			Box.BackgroundTransparency = 0
			Box.BorderColor3 = Theme.Stroke
			Box.AnchorPoint = Vector2.new(1, 0.5)
			Box.Position = UDim2.new(1, -8, 0.5, 0)
			Box.Size = UDim2.new(0, 60, 0, 22)

			UICorner_37.CornerRadius = UDim.new(0, 6)
			UICorner_37.Parent = Box

			UIStrokeBox.Name = "UIStroke"
			UIStrokeBox.Parent = Box
			UIStrokeBox.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStrokeBox.Color = Theme.Stroke
			UIStrokeBox.Thickness = 1

			KeybindC.Name = "KeybindC"
			KeybindC.Parent = Keybind
			KeybindC.BackgroundTransparency = 1
			KeybindC.AnchorPoint = Vector2.new(1, 0.5)
			KeybindC.Position = UDim2.new(1, -8, 0.5, 0)
			KeybindC.Size = UDim2.new(0, 60, 0, 22)
			KeybindC.Font = Enum.Font.Ubuntu
			KeybindC.Text = oldKey
			KeybindC.TextColor3 = Theme.Text
			KeybindC.TextSize = 13

			Keybind.MouseButton1Click:Connect(function()
				if focusing then return end
				KeybindC.Text = ". . ."
				local a = UIS.InputBegan:Wait()
				if a.KeyCode and a.KeyCode.Name ~= "Unknown" then
					oldKey = a.KeyCode.Name
					KeybindC.Text = oldKey
				elseif a.UserInputType == Enum.UserInputType.MouseButton1 then
					oldKey = "MouseButton1"
					KeybindC.Text = oldKey
				else
					KeybindC.Text = oldKey
				end
				ripple()
			end)

			UIS.InputBegan:Connect(function(current, gameProcessed)
				if gameProcessed then return end
				if current.KeyCode and current.KeyCode.Name == oldKey then
					callback()
				elseif oldKey == "MouseButton1" and current.UserInputType == Enum.UserInputType.MouseButton1 then
					callback()
				end
			end)

			Utility:ApplyHoverBg(Keybind, Theme.Bg2, Theme.Bg3)
			Utility:ApplyHoverStroke(Keybind, UIStrokeBase, Theme.StrokeHover, Theme.Stroke)
		end

		-- Dropdown (single select) with API
		function Elements:Dropdown(DropdownTitle, options, default, callback)
			DropdownTitle = DropdownTitle or "Dropdown"
			options = typeof(options) == "table" and options or {}
			callback = callback or function() end
			default = default or options[1]

			local Dropdown = Instance.new("Frame")
			local UICorner = Instance.new("UICorner")
			local UIStroke = Instance.new("UIStroke")
			local TitleLabel = Instance.new("TextLabel")
			local UIPad = Instance.new("UIPadding")
			local ValueLabel = Instance.new("TextLabel")
			local Arrow = Instance.new("ImageLabel")
			local Holder = Instance.new("Frame")
			local HolderPad = Instance.new("UIPadding")
			local List = Instance.new("UIListLayout")

			local isOpen = false
			local rowHeight = 26
			local baseHeight = 40
			local current = nil
			local DropdownObj = {}

			Dropdown.Name = "Dropdown"
			Dropdown.Parent = NewTab
			Dropdown.BackgroundColor3 = Theme.Bg3
			Dropdown.Size = UDim2.new(1, 0, 0, baseHeight)
			Dropdown.ClipsDescendants = true

			UICorner.CornerRadius = UDim.new(0, 6)
			UICorner.Parent = Dropdown

			UIStroke.Parent = Dropdown
			UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke.Color = Theme.Stroke
			UIStroke.Thickness = 1

			TitleLabel.Name = "Title"
			TitleLabel.Parent = Dropdown
			TitleLabel.BackgroundTransparency = 1
			TitleLabel.Size = UDim2.new(1, -40, 0, baseHeight)
			TitleLabel.Font = Enum.Font.Ubuntu
			TitleLabel.Text = DropdownTitle
			TitleLabel.TextColor3 = Theme.Text
			TitleLabel.TextSize = 14
			TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
			TitleLabel.TextWrapped = true

			UIPad.Parent = Dropdown
			UIPad.PaddingBottom = UDim.new(0, 8)
			UIPad.PaddingLeft = UDim.new(0, 8)
			UIPad.PaddingRight = UDim.new(0, 8)
			UIPad.PaddingTop = UDim.new(0, 8)

			ValueLabel.Name = "Value"
			ValueLabel.Parent = Dropdown
			ValueLabel.BackgroundTransparency = 1
			ValueLabel.AnchorPoint = Vector2.new(1, 0)
			ValueLabel.Position = UDim2.new(1, -28, 0, 0)
			ValueLabel.Size = UDim2.new(0, 120, 0, baseHeight)
			ValueLabel.Font = Enum.Font.Ubuntu
			ValueLabel.Text = ""
			ValueLabel.TextColor3 = Theme.TextDim
			ValueLabel.TextSize = 14
			ValueLabel.TextXAlignment = Enum.TextXAlignment.Right
			ValueLabel.TextWrapped = false

			Arrow.Name = "Arrow"
			Arrow.Parent = Dropdown
			Arrow.AnchorPoint = Vector2.new(1, 0.5)
			Arrow.BackgroundTransparency = 1
			Arrow.Position = UDim2.new(1, -6, 0, baseHeight / 2)
			Arrow.Size = UDim2.new(0, 16, 0, 16)
			Arrow.Image = "rbxassetid://10888474558"
			Arrow.ImageColor3 = Theme.TextDim

			Holder.Name = "Holder"
			Holder.Parent = Dropdown
			Holder.BackgroundTransparency = 1
			Holder.Position = UDim2.new(0, 0, 0, baseHeight)
			Holder.Size = UDim2.new(1, 0, 0, 0)
			Holder.ClipsDescendants = true

			HolderPad.Parent = Holder
			HolderPad.PaddingLeft = UDim.new(0, 8)
			HolderPad.PaddingRight = UDim.new(0, 8)
			HolderPad.PaddingBottom = UDim.new(0, 8)

			List.Parent = Holder
			List.SortOrder = Enum.SortOrder.LayoutOrder
			List.Padding = UDim.new(0, 4)

			local function rotateArrow(open)
				TweenService:Create(Arrow, tweeninfoSmooth, { Rotation = open and 180 or 0, ImageColor3 = open and Theme.Text or Theme.TextDim }):Play()
			end

			local function openClose(open)
				isOpen = open
				local count = 0
				for _, v in ipairs(Holder:GetChildren()) do
					if v:IsA("TextButton") then
						count += 1
					end
				end
				local height = open and (baseHeight + count * (rowHeight + List.Padding.Offset) + 6) or baseHeight
				TweenService:Create(Dropdown, tweeninfoSmooth, { Size = UDim2.new(1, 0, 0, height) }):Play()
				TweenService:Create(Holder, tweeninfoSmooth, { Size = UDim2.new(1, 0, 0, open and height - baseHeight or 0) }):Play()
				rotateArrow(open)
			end

			local function clearOptions()
				for _, v in ipairs(Holder:GetChildren()) do
					if v:IsA("TextButton") then
						v:Destroy()
					end
				end
			end

			local function createOption(optText)
				local Opt = Instance.new("TextButton")
				local OptCorner = Instance.new("UICorner")
				local OptStroke = Instance.new("UIStroke")

				Opt.Name = "Option"
				Opt.Parent = Holder
				Opt.BackgroundColor3 = Theme.Bg2
				Opt.Size = UDim2.new(1, -16, 0, rowHeight)
				Opt.AutoButtonColor = false
				Opt.Text = optText
				Opt.Font = Enum.Font.Ubuntu
				Opt.TextSize = 14
				Opt.TextColor3 = Theme.Text

				OptCorner.Parent = Opt
				OptCorner.CornerRadius = UDim.new(0, 6)

				OptStroke.Parent = Opt
				OptStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
				OptStroke.Color = Theme.Stroke
				OptStroke.Thickness = 1

				Opt.MouseEnter:Connect(function()
					TweenService:Create(Opt, tweeninfoSmooth, { BackgroundColor3 = Theme.Bg }):Play()
					TweenService:Create(OptStroke, tweeninfoSmooth, { Color = Theme.StrokeHover }):Play()
				end)
				Opt.MouseLeave:Connect(function()
					TweenService:Create(Opt, tweeninfoSmooth, { BackgroundColor3 = Theme.Bg2 }):Play()
					TweenService:Create(OptStroke, tweeninfoSmooth, { Color = Theme.Stroke }):Play()
				end)

				Opt.MouseButton1Click:Connect(function()
					current = optText
					ValueLabel.Text = tostring(optText)
					pcall(callback, current)
					openClose(false)
				end)
			end

			local function setCurrent(v, suppress)
				if v == nil then
					current = nil
					ValueLabel.Text = ""
					if not suppress then pcall(callback, current) end
					return
				end
				for _, opt in ipairs(options) do
					if tostring(opt) == tostring(v) then
						current = tostring(v)
						ValueLabel.Text = tostring(current)
						if not suppress then pcall(callback, current) end
						return
					end
				end
			end

			-- Build options
			clearOptions()
			for _, opt in ipairs(options) do
				createOption(tostring(opt))
			end
			setCurrent(default, true)

			-- Click to open/close
			local clickZone = Instance.new("TextButton")
			clickZone.Parent = Dropdown
			clickZone.BackgroundTransparency = 1
			clickZone.Size = UDim2.new(1, 0, 0, baseHeight)
			clickZone.Text = ""
			clickZone.AutoButtonColor = false

			clickZone.MouseButton1Click:Connect(function()
				openClose(not isOpen)
			end)

			Dropdown.MouseEnter:Connect(function()
				TweenService:Create(Dropdown, tweeninfoSmooth, { BackgroundColor3 = Theme.Bg2 }):Play()
				TweenService:Create(UIStroke, tweeninfoSmooth, { Color = Theme.StrokeHover }):Play()
			end)
			Dropdown.MouseLeave:Connect(function()
				TweenService:Create(Dropdown, tweeninfoSmooth, { BackgroundColor3 = Theme.Bg3 }):Play()
				TweenService:Create(UIStroke, tweeninfoSmooth, { Color = Theme.Stroke }):Play()
			end)

			-- Public API
			function DropdownObj:Set(value, suppressCallback)
				setCurrent(value, suppressCallback)
			end

			function DropdownObj:Get()
				return current
			end

			function DropdownObj:Clear()
				options = {}
				clearOptions()
				setCurrent(nil, true)
				openClose(false)
			end

			function DropdownObj:Add(value)
				table.insert(options, value)
				createOption(tostring(value))
			end

			function DropdownObj:Remove(value)
				for i, v in ipairs(options) do
					if tostring(v) == tostring(value) then
						table.remove(options, i)
						break
					end
				end
				clearOptions()
				for _, opt in ipairs(options) do
					createOption(tostring(opt))
				end
				if current == tostring(value) then
					setCurrent(nil, true)
				end
			end

			return DropdownObj
		end

		function Elements:WarningLabel(WarningText)
			WarningText = WarningText or "This is a warning"

			local WarningLabell = {}

			local Warning = Instance.new("Frame")
			local UIPadding_7 = Instance.new("UIPadding")
			local Title_3 = Instance.new("TextLabel")
			local Icon_4 = Instance.new("ImageLabel")
			local UIPadding_8 = Instance.new("UIPadding")
			local UICorner_5 = Instance.new("UICorner")
			local UIStroke_6 = Instance.new("UIStroke")

			Warning.Name = "Warning"
			Warning.Parent = NewTab
			Warning.BackgroundColor3 = Theme.WarnBg
			Warning.Size = UDim2.new(1, 0, 0, 28)

			UIPadding_7.Parent = Warning
			UIPadding_7.PaddingBottom = UDim.new(0, 8)
			UIPadding_7.PaddingLeft = UDim.new(0, 8)
			UIPadding_7.PaddingRight = UDim.new(0, 8)
			UIPadding_7.PaddingTop = UDim.new(0, 8)

			Title_3.Name = "Title"
			Title_3.Parent = Warning
			Title_3.BackgroundTransparency = 1
			Title_3.Size = UDim2.new(1, 0, 1, 0)
			Title_3.Font = Enum.Font.Ubuntu
			Title_3.Text = WarningText
			Title_3.TextColor3 = Theme.Text
			Title_3.TextSize = 14
			Title_3.TextWrapped = true
			Title_3.TextXAlignment = Enum.TextXAlignment.Left
			Title_3.TextYAlignment = Enum.TextYAlignment.Top

			Icon_4.Name = "Icon"
			Icon_4.Parent = Title_3
			Icon_4.BackgroundTransparency = 1
			Icon_4.Position = UDim2.new(0, -20, 0, 0)
			Icon_4.Size = UDim2.new(0, 14, 0, 14)
			Icon_4.Image = "rbxassetid://10889384842"
			Icon_4.ImageColor3 = Theme.WarnIcon

			UIPadding_8.Parent = Title_3
			UIPadding_8.PaddingLeft = UDim.new(0, 20)

			UICorner_5.CornerRadius = UDim.new(0, 6)
			UICorner_5.Parent = Warning

			UIStroke_6.Name = "UIStroke"
			UIStroke_6.Parent = Warning
			UIStroke_6.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_6.Color = Theme.WarnStroke
			UIStroke_6.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke_6.Thickness = 1

			function WarningLabell:SetText(WarningLabelSetText)
				WarningText = WarningLabelSetText
				WarningLabell:_update()
			end

			function WarningLabell:_update()
				Title_3.Text = WarningText
				Title_3.Size = UDim2.new(Title_3.Size.X.Scale, Title_3.Size.X.Offset, 0, math.huge)
				Title_3.Size = UDim2.new(Title_3.Size.X.Scale, Title_3.Size.X.Offset, 0, Title_3.TextBounds.Y)
				Library:tween(Warning, { Size = UDim2.new(Warning.Size.X.Scale, Warning.Size.X.Offset, 0, Title_3.TextBounds.Y + 16) })
			end

			WarningLabell:_update()
			return WarningLabell
		end

		function Elements:InfoLabel(InfoText)
			InfoText = InfoText or "This is an info"

			local InfoLabell = {}

			local Info = Instance.new("Frame")
			local UIPadding_9 = Instance.new("UIPadding")
			local Title_4 = Instance.new("TextLabel")
			local Icon_5 = Instance.new("ImageLabel")
			local UIPadding_10 = Instance.new("UIPadding")
			local UICorner_6 = Instance.new("UICorner")
			local UIStroke_7 = Instance.new("UIStroke")

			Info.Name = "Info"
			Info.Parent = NewTab
			Info.BackgroundColor3 = Theme.InfoBg
			Info.Size = UDim2.new(1, 0, 0, 28)

			UIPadding_9.Parent = Info
			UIPadding_9.PaddingBottom = UDim.new(0, 8)
			UIPadding_9.PaddingLeft = UDim.new(0, 8)
			UIPadding_9.PaddingRight = UDim.new(0, 8)
			UIPadding_9.PaddingTop = UDim.new(0, 8)

			Title_4.Name = "Title"
			Title_4.Parent = Info
			Title_4.BackgroundTransparency = 1
			Title_4.Size = UDim2.new(1, 0, 1, 0)
			Title_4.Font = Enum.Font.Ubuntu
			Title_4.Text = InfoText
			Title_4.TextWrapped = true
			Title_4.TextColor3 = Theme.Text
			Title_4.TextSize = 14
			Title_4.TextXAlignment = Enum.TextXAlignment.Left
			Title_4.TextYAlignment = Enum.TextYAlignment.Top

			Icon_5.Name = "Icon"
			Icon_5.Parent = Title_4
			Icon_5.BackgroundTransparency = 1
			Icon_5.Position = UDim2.new(0, -20, 0, 0)
			Icon_5.Size = UDim2.new(0, 14, 0, 14)
			Icon_5.Image = "rbxassetid://10889391188"
			Icon_5.ImageColor3 = Theme.InfoIcon

			UIPadding_10.Parent = Title_4
			UIPadding_10.PaddingLeft = UDim.new(0, 20)

			UICorner_6.CornerRadius = UDim.new(0, 6)
			UICorner_6.Parent = Info

			UIStroke_7.Name = "UIStroke"
			UIStroke_7.Parent = Info
			UIStroke_7.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_7.Color = Theme.InfoStroke
			UIStroke_7.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke_7.Thickness = 1

			function InfoLabell:SetText(InfoLabelSetText)
				InfoText = InfoLabelSetText
				InfoLabell:_update()
			end

			function InfoLabell:_update()
				Title_4.Text = InfoText
				Title_4.Size = UDim2.new(Title_4.Size.X.Scale, Title_4.Size.X.Offset, 0, math.huge)
				Title_4.Size = UDim2.new(Title_4.Size.X.Scale, Title_4.Size.X.Offset, 0, Title_4.TextBounds.Y)
				Library:tween(Info, { Size = UDim2.new(Info.Size.X.Scale, Info.Size.X.Offset, 0, Title_4.TextBounds.Y + 16) })
			end

			InfoLabell:_update()
			return InfoLabell
		end

		function Elements:Label(LabelText)
			LabelText = LabelText or "This is a label"

			local Labell = {}

			local Label = Instance.new("Frame")
			local UIPadding_11 = Instance.new("UIPadding")
			local Title_5 = Instance.new("TextLabel")
			local Icon_6 = Instance.new("ImageLabel")
			local UIPadding_12 = Instance.new("UIPadding")
			local UICorner_7 = Instance.new("UICorner")
			local UIStroke_8 = Instance.new("UIStroke")

			Label.Name = "Label"
			Label.Parent = NewTab
			Label.BackgroundColor3 = Theme.Bg3
			Label.Size = UDim2.new(1, 0, 0, 28)

			UIPadding_11.Parent = Label
			UIPadding_11.PaddingBottom = UDim.new(0, 8)
			UIPadding_11.PaddingLeft = UDim.new(0, 8)
			UIPadding_11.PaddingRight = UDim.new(0, 8)
			UIPadding_11.PaddingTop = UDim.new(0, 8)

			Title_5.Name = "Title"
			Title_5.Parent = Label
			Title_5.BackgroundTransparency = 1
			Title_5.Size = UDim2.new(1, 0, 1, 0)
			Title_5.Font = Enum.Font.Ubuntu
			Title_5.Text = LabelText
			Title_5.TextWrapped = true
			Title_5.TextColor3 = Theme.Text
			Title_5.TextSize = 14
			Title_5.TextXAlignment = Enum.TextXAlignment.Left
			Title_5.TextYAlignment = Enum.TextYAlignment.Top

			Icon_6.Name = "Icon"
			Icon_6.Parent = Title_5
			Icon_6.BackgroundTransparency = 1
			Icon_6.Position = UDim2.new(0, -20, 0, 0)
			Icon_6.Size = UDim2.new(0, 14, 0, 14)
			Icon_6.Image = "rbxassetid://10889394367"
			Icon_6.ImageColor3 = Theme.TextDim

			UIPadding_12.Parent = Title_5
			UIPadding_12.PaddingLeft = UDim.new(0, 20)

			UICorner_7.CornerRadius = UDim.new(0, 6)
			UICorner_7.Parent = Label

			UIStroke_8.Name = "UIStroke"
			UIStroke_8.Parent = Label
			UIStroke_8.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
			UIStroke_8.Color = Theme.Stroke
			UIStroke_8.LineJoinMode = Enum.LineJoinMode.Round
			UIStroke_8.Thickness = 1

			function Labell:SetText(LabelSetText)
				LabelText = LabelSetText
				Labell:_update()
			end

			function Labell:_update()
				Title_5.Text = LabelText
				Title_5.Size = UDim2.new(Title_5.Size.X.Scale, Title_5.Size.X.Offset, 0, math.huge)
				Title_5.Size = UDim2.new(Title_5.Size.X.Scale, Title_5.Size.X.Offset, 0, Title_5.TextBounds.Y)
				Library:tween(Label, { Size = UDim2.new(Label.Size.X.Scale, Label.Size.X.Offset, 0, Title_5.TextBounds.Y + 16) })
			end

			Labell:_update()
			return Labell
		end

		return Elements
	end

	return Tabs
end

return Library
